<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
        <script src='https://cdn.plot.ly/plotly-2.4.2.min.js'></script>
        <title>Nolop Air Quality</title>
    </head>
    <body>
        <div class="chart-container" style="position: relative; height:40vh; width:80vw">
            <div id="airChart"></div>
        </div>
    </body>
    <script>
    async function fetchAsync () {
        let response = await fetch('http://air5.nolop.org:5000/range/2021-09-29/2021-10-06');
        let data = await response.json();
        return data;
    }

    fetchAsync().then(data => {
        console.log(data);
        var points = [
        {
            x: data['timestamps'],
            y: data['data'],
            type: 'scatter'
        }];
        Plotly.newPlot('airChart', points);
    });
    </script>
</html>
